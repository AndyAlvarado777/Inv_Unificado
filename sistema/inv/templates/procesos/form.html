
    <div class="card">
        
        <div class="card-body" style="padding: 1em;">
            <form id="agregarProcesoForm" method="POST" action="">
                {% csrf_token %}
                {{ form.as_p }} <!-- Renderiza los campos del formulario -->
            
                <h3>Asigna equipos al proceso</h3>
                <div class="card">
                    <div class="table-container" style="padding: 1em;">
                        <table id="miTabla" class="table table-hover table-striped">
                            <thead class="table-dark">
                                <tr>
                                    <th>Seleccionar</th>
                                    <th>Marca</th>
                                    <th>Modelo</th>
                                    <th>Serie</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for equipo in inventario %}
                                {% if equipo.estado == 1 %}
                                <tr>
                                    <td>
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" name="equipos" value="{{ equipo.id }}">
                                        </div>
                                    </td>
                                    <td>{{ equipo.marca }}</td>
                                    <td>{{ equipo.modelo }}</td>
                                    <td>{{ equipo.serie }}</td>
                                </tr>
                                {% endif %}
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            
                <button type="submit" class="btn btn-primary me-2">Guardar Proceso</button>
                <a href="{% url 'procesos' %}" class="btn btn-secondary">Cancelar</a>
            </form>
            
        </div>
    </div>
    

<script>
    document.getElementById('agregarProcesoForm').addEventListener('submit', function(e) {
    const checkboxes = document.querySelectorAll('input[name="equipos"]:checked');
    if (checkboxes.length === 0) {
        e.preventDefault();
        alert('Debe seleccionar al menos un equipo!');
    }
});
</script>

<script>
    $(document).ready(function () {
    $('#miTabla').DataTable({
        paging: true, // Habilita la paginación
        searching: true, // Habilita la barra de búsqueda
        ordering: true, // Habilita el ordenamiento por columnas
        language: {
            url: "//cdn.datatables.net/plug-ins/1.13.6/i18n/es-ES.json" // Traducción al español
        }
    });
});

</script>


